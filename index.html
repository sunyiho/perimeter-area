<!doctype html>
<html lang="zh-CN" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‘¨é•¿ä¸é¢ç§¯</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    	body {
    	    box-sizing: border-box;
    	    font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
    	}
    	
    	.fade-in {
    	    animation: fadeIn 0.4s ease-in;
    	}
    	
    	@keyframes fadeIn {
    	    from { opacity: 0; transform: translateY(10px); }
    	    to { opacity: 1; transform: translateY(0); }
    	}
    	
    	input[type="range"] {
    	    -webkit-appearance: none;
    	    appearance: none;
    	    width: 100%;
    	    /* input èƒŒæ™¯ç”¨äºæ‰¿è½½ JS åŠ¨æ€ç”Ÿæˆçš„çº¿æ€§æ¸å˜ï¼Œå®ç°è½¨é“å¡«å……æ•ˆæœ */
    	    background: #e5e7eb; /* é»˜è®¤æµ…ç°è‰² (æœªå¡«å……éƒ¨åˆ†) */
    	    border-radius: 999px;
    	    height: 8px;
    	    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
    	}
    	
    	/* --- é€šç”¨æ»‘å—è½¨é“æ ·å¼ (Modern Style) --- */
    	/* å°†ä¼ªè½¨é“è®¾ç½®ä¸ºé€æ˜ï¼Œä»¥æ˜¾ç¤º input è‡ªèº«çš„èƒŒæ™¯æ¸å˜ */
    	input[type="range"]::-webkit-slider-track {
    	    background: transparent; 
    	    height: 8px;
    	    border-radius: 999px;
    	}
    	
    	/* --- é€šç”¨æ»‘å—æŒ‰é’®æ ·å¼ (Modern Style) --- */
    	input[type="range"]::-webkit-slider-thumb {
    	    -webkit-appearance: none;
    	    appearance: none;
    	    width: 20px; /* å˜å¤§ */
    	    height: 20px; /* å˜å¤§ */
    	    border-radius: 999px;
    	    /* æ»‘å—é¢œè‰²ä½¿ç”¨ JS åŠ¨æ€è®¾ç½®çš„ CSS å˜é‡ */
    	    background: var(--slider-color, #3b82f6);
    	    cursor: pointer;
    	    /* 8pxè½¨é“å±…ä¸­éœ€è¦ margin-top: 4px - 10px = -6px */
    	    margin-top: -6px;
    	    /* 3px ç™½è‰²è¾¹æ¡†æ¨¡æ‹Ÿå›¾ç‰‡ä¸­çš„é«˜å…‰/å¤–åœˆæ•ˆæœ */
    	    border: 3px solid #ffffff; 
    	    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4); /* æ˜æ˜¾çš„é˜´å½± */
    	    transition: transform 0.1s ease;
    	}
    	
    	input[type="range"]:focus::-webkit-slider-thumb {
    	    transform: scale(1.1); /* ç„¦ç‚¹æ”¾å¤§æ•ˆæœ */
    	}
    	
    	/* --- Firefox å…¼å®¹æ ·å¼ --- */
    	input[type="range"]::-moz-range-track {
    	    background: #e5e7eb; /* æµ…ç°è‰²è½¨é“åº•åº§ */
    	    height: 8px;
    	    border-radius: 999px;
    	    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
    	}
    	
    	input[type="range"]::-moz-range-thumb {
    	    width: 20px;
    	    height: 20px;
    	    border-radius: 999px;
    	    /* æ»‘å—é¢œè‰²ä½¿ç”¨ JS åŠ¨æ€è®¾ç½®çš„ CSS å˜é‡ */
    	    background: var(--slider-color, #3b82f6);
    	    cursor: pointer;
    	    border: 3px solid #ffffff; 
    	    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
    	}
    	
    	/* !!! ç§»é™¤äº†é¡µé¢ç‰¹å®šçš„æ»‘å—è½¨é“å’Œæ»‘å—è¾¹æ¡†æ ·å¼ !!! 
   	   æ‰€æœ‰æ»‘å—ç°åœ¨éƒ½é€šè¿‡ JS åŠ¨æ€å®ç°å¡«å……æ•ˆæœã€‚
    	*/
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50">
  <div class="h-full flex flex-col overflow-auto"><!-- Header -->
   <header class="bg-white shadow-md">
    <div class="container mx-auto px-6 py-5">
     <h1 id="main-title" class="text-3xl font-bold text-center text-gray-800">å‘¨é•¿ä¸é¢ç§¯</h1>
     
    </div>
   </header><!-- Navigation -->
   <nav class="bg-white border-b-2 border-gray-100 sticky top-0 z-50 shadow-sm">
    <div class="container mx-auto px-6">
     <div class="flex justify-center space-x-2"><button onclick="showPage('perimeter')" id="nav-perimeter" class="nav-btn px-8 py-3 font-semibold rounded-t-lg transition-all duration-300 bg-blue-500 text-white"> ğŸŸ¦ <span id="nav-title-1">å‘¨é•¿</span> </button> <button onclick="showPage('rectangle')" id="nav-rectangle" class="nav-btn px-8 py-3 font-semibold rounded-t-lg transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"> ğŸŸ¨ <span id="nav-title-2">æ­£æ–¹å½¢å’Œé•¿æ–¹å½¢</span> </button> <button onclick="showPage('triangle')" id="nav-triangle" class="nav-btn px-8 py-3 font-semibold rounded-t-lg transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"> ğŸŸ¥ <span id="nav-title-3">ä¸‰è§’å½¢çš„é¢ç§¯</span> </button>
     </div>
    </div>
   </nav><!-- Page 1: Perimeter -->
   <main id="perimeter-page" class="page-content flex-1 py-8">
    <div class="container mx-auto px-6">
     <div class="max-w-5xl mx-auto">
      <h2 id="page1-heading" class="text-3xl font-bold text-center mb-8 text-blue-600">å‘¨é•¿</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Polygon Display -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">æ­£å¤šè¾¹å½¢å±•ç¤º</h3>
        <div class="flex justify-center mb-6">
         <svg id="polygon-display" width="280" height="280" viewbox="0 0 280 280" class="border-2 border-gray-200 rounded-xl bg-gradient-to-br from-blue-50 to-purple-50"><polygon id="display-polygon" points="" fill="#3b82f6" fill-opacity="0.3" stroke="#3b82f6" stroke-width="3"></polygon> <text id="polygon-label" x="140" y="250" text-anchor="middle" class="text-lg font-bold fill-gray-700"></text>
         </svg>
        </div>
        <div class="bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500">
         <p class="text-center text-gray-700"><span class="font-semibold">å‘¨é•¿å…¬å¼ï¼š</span><br>
          å‘¨é•¿ = è¾¹æ•° Ã— è¾¹é•¿</p>
        </div>
       </div><!-- Perimeter Calculator -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">å‘¨é•¿è®¡ç®—å™¨</h3>
        <div class="space-y-6">
         <div><label class="block text-base font-semibold text-gray-700 mb-3">é€‰æ‹©è¾¹æ•°</label> <select id="polygon-sides" class="w-full p-3 border-2 border-gray-300 rounded-lg text-lg font-medium focus:border-blue-500 focus:outline-none transition-colors"> <option value="3">æ­£ä¸‰è§’å½¢ (3è¾¹)</option> <option value="4">æ­£æ–¹å½¢ (4è¾¹)</option> <option value="5">æ­£äº”è¾¹å½¢ (5è¾¹)</option> <option value="6" selected>æ­£å…­è¾¹å½¢ (6è¾¹)</option>
          <option value="7">æ­£ä¸ƒè¾¹å½¢ (7è¾¹)</option>
          <option value="8">æ­£å…«è¾¹å½¢ (8è¾¹)</option>
        </select>
         </div>
         <div><label class="block text-base font-semibold text-gray-700 mb-3"> è¾¹é•¿ï¼š<span id="side-length-value" class="text-blue-600">5</span> cm </label> <input type="range" id="side-length" min="1" max="15" value="5" step="1" class="w-full">
          <div class="flex justify-between text-sm text-gray-500 mt-1"><span>1 cm</span> <span>15 cm</span>
          </div>
         </div>
         <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-300">
          <h4 class="font-bold text-purple-800 mb-3 text-lg">è®¡ç®—ç»“æœ</h4>
          <div class="space-y-2">
           <p class="text-gray-700">è¾¹æ•°ï¼š<span id="result-sides" class="font-bold text-purple-600">6</span> è¾¹</p>
           <p class="text-gray-700">è¾¹é•¿ï¼š<span id="result-length" class="font-bold text-purple-600">5</span> cm</p>
           <div class="h-px bg-purple-200 my-3"></div>
           <p class="text-xl text-gray-800">å‘¨é•¿ï¼š<span id="result-perimeter" class="font-bold text-purple-600 text-2xl">30</span> cm</p>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Formula Explanation -->
      <div class="mt-8 bg-white rounded-2xl shadow-xl p-8">
       <h3 class="text-xl font-semibold mb-4 text-center text-gray-800">ğŸ’¡ å‘¨é•¿çŸ¥è¯†ç‚¹</h3>
       <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-blue-50 rounded-lg p-5 border-l-4 border-blue-500">
         <h4 class="font-bold text-blue-800 mb-2">ä»€ä¹ˆæ˜¯å‘¨é•¿ï¼Ÿ</h4>
         <p class="text-blue-700">å‘¨é•¿æ˜¯å›¾å½¢è¾¹ç•Œçš„æ€»é•¿åº¦</p>
        </div>
        <div class="bg-green-50 rounded-lg p-5 border-l-4 border-green-500">
         <h4 class="font-bold text-green-800 mb-2">æ­£å¤šè¾¹å½¢</h4>
         <p class="text-green-700">æ‰€æœ‰è¾¹é•¿åº¦ç›¸ç­‰çš„å¤šè¾¹å½¢</p>
        </div>
        <div class="bg-purple-50 rounded-lg p-5 border-l-4 border-purple-500">
         <h4 class="font-bold text-purple-800 mb-2">è®¡ç®—æ–¹æ³•</h4>
         <p class="text-purple-700">å‘¨é•¿ = è¾¹æ•° Ã— è¾¹é•¿</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </main><!-- Page 2: Rectangle Area -->
   <main id="rectangle-page" class="page-content hidden flex-1 py-8">
    <div class="container mx-auto px-6">
     <div class="max-w-5xl mx-auto">
      <h2 id="page2-heading" class="text-3xl font-bold text-center mb-8 text-yellow-600">æ­£æ–¹å½¢å’Œé•¿æ–¹å½¢</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Visual Display -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">å›¾å½¢å±•ç¤º</h3>
        <div class="flex justify-center mb-6">
         <svg width="320" height="280" viewbox="0 0 320 280" class="border-2 border-gray-200 rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50">
          <rect id="visual-rect" x="60" y="90" width="200" height="100" fill="#f59e0b" fill-opacity="0.4" stroke="#f59e0b" stroke-width="3"></rect>
          <!-- é•¿åº¦æ ‡ç­¾ï¼ˆä¸Šæ–¹ï¼‰ -->
          
          <!-- å®½åº¦æ ‡ç­¾ï¼ˆå³ä¾§ï¼‰ -->
          
         </svg>
        </div>
        <div class="space-y-3">
         <div class="bg-yellow-50 rounded-lg p-4 border-l-4 border-yellow-500">
          <p class="text-center text-gray-700"><span class="font-semibold">é¢ç§¯å…¬å¼ï¼š</span><br>
           é¢ç§¯ = é•¿ Ã— å®½</p>
         </div>
         <div class="bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500">
          <p class="text-center text-gray-700"><span class="font-semibold">å‘¨é•¿å…¬å¼ï¼š</span><br>
           å‘¨é•¿ = 2 Ã— (é•¿ + å®½)</p>
         </div>
        </div>
       </div><!-- Parameter Controls -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">å‚æ•°æ§åˆ¶</h3>
        <div class="space-y-6">
         <div><label class="block text-base font-semibold text-gray-700 mb-3"> é•¿åº¦ï¼š<span id="rect-length-display" class="text-red-600">10</span> cm </label> <input type="range" id="rect-length" min="3" max="20" value="10" step="1" class="w-full">
          <div class="flex justify-between text-sm text-gray-500 mt-1"><span>3 cm</span> <span>20 cm</span>
          </div>
         </div>
         <div><label class="block text-base font-semibold text-gray-700 mb-3"> å®½åº¦ï¼š<span id="rect-width-display" class="text-blue-600">5</span> cm </label> <input type="range" id="rect-width" min="2" max="15" value="5" step="1" class="w-full">
          <div class="flex justify-between text-sm text-gray-500 mt-1"><span>2 cm</span> <span>15 cm</span>
          </div>
         </div>
         <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border-2 border-green-300">
          <h4 class="font-bold text-green-800 mb-4 text-lg">å®æ—¶è®¡ç®—ç»“æœ</h4>
          <div class="space-y-3">
           <div class="bg-white rounded-lg p-3">
            <p class="text-gray-700">é•¿ï¼š<span id="calc-length" class="font-bold text-red-600">10</span> cm</p>
           </div>
           <div class="bg-white rounded-lg p-3">
            <p class="text-gray-700">å®½ï¼š<span id="calc-width" class="font-bold text-blue-600">5</span> cm</p>
           </div>
           <div class="h-px bg-green-200 my-2"></div>
           <div class="bg-white rounded-lg p-3">
            <p class="text-xl text-gray-800">é¢ç§¯ï¼š<span id="calc-area" class="font-bold text-green-600 text-2xl">50</span> cmÂ²</p>
           </div>
           <div class="bg-white rounded-lg p-3">
            <p class="text-xl text-gray-800">å‘¨é•¿ï¼š<span id="calc-perimeter" class="font-bold text-teal-600 text-2xl">30</span> cm</p>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Special Case: Square -->
      <div class="mt-8 bg-white rounded-2xl shadow-xl p-8">
       <h3 class="text-xl font-semibold mb-4 text-center text-gray-800">ğŸ“ ç‰¹æ®Šæƒ…å†µï¼šæ­£æ–¹å½¢</h3>
       <div class="bg-purple-50 rounded-lg p-6 border-l-4 border-purple-500">
        <p class="text-purple-800 mb-3"><span class="font-bold">æ­£æ–¹å½¢</span>æ˜¯é•¿ä¸å®½ç›¸ç­‰çš„ç‰¹æ®Šé•¿æ–¹å½¢</p>
        <p class="text-purple-700">å½“é•¿ = å®½æ—¶ï¼Œé¢ç§¯ = è¾¹é•¿ Ã— è¾¹é•¿ = è¾¹é•¿Â²</p>
        <p class="text-purple-700 mt-2">å‘¨é•¿ = 4 Ã— è¾¹é•¿</p>
       </div>
      </div>
     </div>
    </div>
   </main><!-- Page 3: Triangle Area -->
   <main id="triangle-page" class="page-content hidden flex-1 py-8">
    <div class="container mx-auto px-6">
     <div class="max-w-5xl mx-auto">
      <h2 id="page3-heading" class="text-3xl font-bold text-center mb-8 text-red-600">ä¸‰è§’å½¢çš„é¢ç§¯</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Interactive Triangle -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">ä¸‰è§’å½¢å±•ç¤º</h3>
        <div class="flex justify-center mb-6">
         <svg id="triangle-canvas" width="100%" height="320" viewbox="0 0 400 320" class="border-2 border-gray-200 rounded-xl bg-gradient-to-br from-red-50 to-pink-50"><!-- Triangle --> <polygon id="interactive-triangle" points="50,280 350,280 200,80" fill="#ef4444" fill-opacity="0.3" stroke="#ef4444" stroke-width="3"></polygon> <!-- Height line --> <line id="height-line" x1="200" y1="80" x2="200" y2="280" stroke="#dc2626" stroke-width="2" stroke-dasharray="5,5"></line> <!-- Base line indicator -->  <!-- Labels --> <text id="base-text" x="200" y="315" text-anchor="middle" class="text-base font-bold fill-green-700">
           åº•: 24 cm
          </text> <text id="height-text" x="220" y="180" class="text-base font-bold fill-red-700">
           é«˜: 10 cm
          </text>
         </svg>
        </div>
        <div class="bg-red-50 rounded-lg p-4 border-l-4 border-red-500">
         <p class="text-center text-gray-700"><span class="font-semibold">é¢ç§¯å…¬å¼ï¼š</span><br>
          é¢ç§¯ = åº• Ã— é«˜ Ã· 2</p>
        </div>
       </div><!-- Parameter Controls -->
       <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-xl font-semibold mb-6 text-center text-gray-800">å‚æ•°æ§åˆ¶</h3>
        <div class="space-y-6">
         <div><label class="block text-base font-semibold text-gray-700 mb-3"> åº•ï¼š<span id="tri-base-display" class="text-green-600">24</span> cm </label> <input type="range" id="tri-base" min="5" max="25" value="24" step="1" class="w-full">
          <div class="flex justify-between text-sm text-gray-500 mt-1"><span>5 cm</span> <span>25 cm</span>
          </div>
         </div>
         <div><label class="block text-base font-semibold text-gray-700 mb-3"> é«˜ï¼š<span id="tri-height-display" class="text-red-600">10</span> cm </label> <input type="range" id="tri-height" min="3" max="20" value="10" step="1" class="w-full">
          <div class="flex justify-between text-sm text-gray-500 mt-1"><span>3 cm</span> <span>20 cm</span>
          </div>
         </div>
         <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-6 border-2 border-pink-300">
          <h4 class="font-bold text-pink-800 mb-4 text-lg">å®æ—¶è®¡ç®—ç»“æœ</h4>
          <div class="space-y-3">
           <div class="bg-white rounded-lg p-3">
            <p class="text-gray-700">åº•ï¼š<span id="tri-calc-base" class="font-bold text-green-600">24</span> cm</p>
           </div>
           <div class="bg-white rounded-lg p-3">
            <p class="text-gray-700">é«˜ï¼š<span id="tri-calc-height" class="font-bold text-red-600">10</span> cm</p>
           </div>
           <div class="h-px bg-pink-200 my-2"></div>
           <div class="bg-white rounded-lg p-3">
            <p class="text-xl text-gray-800">é¢ç§¯ï¼š<span id="tri-calc-area" class="font-bold text-pink-600 text-2xl">75</span> cmÂ²</p>
           </div>
           <div class="bg-pink-100 rounded-lg p-3 mt-3">
            <p class="text-sm text-pink-800"><span class="font-semibold">è®¡ç®—è¿‡ç¨‹ï¼š</span><br><span id="tri-calculation">24 Ã— 10 Ã· 2 = 120</span></p>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Why divide by 2? -->
      <div class="mt-8 bg-white rounded-2xl shadow-xl p-8">
       <h3 class="text-xl font-semibold mb-4 text-center text-gray-800">ğŸ¤” ä¸ºä»€ä¹ˆè¦é™¤ä»¥2ï¼Ÿ</h3>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
         <h4 class="font-bold text-blue-800 mb-3">é•¿æ–¹å½¢çš„é¢ç§¯</h4>
         <p class="text-blue-700 mb-2">é•¿æ–¹å½¢é¢ç§¯ = é•¿ Ã— å®½</p>
         <div class="flex justify-center mt-4">
          <svg width="120" height="80" viewbox="0 0 120 80"><rect x="10" y="10" width="100" height="60" fill="#3b82f6" fill-opacity="0.3" stroke="#3b82f6" stroke-width="2"></rect>
          </svg>
         </div>
        </div>
        <div class="bg-red-50 rounded-lg p-6 border-l-4 border-red-500">
         <h4 class="font-bold text-red-800 mb-3">ä¸‰è§’å½¢æ˜¯é•¿æ–¹å½¢çš„ä¸€åŠ</h4>
         <p class="text-red-700 mb-2">ä¸‰è§’å½¢é¢ç§¯ = é•¿æ–¹å½¢é¢ç§¯ Ã· 2</p>
         <div class="flex justify-center mt-4">
          <svg width="120" height="80" viewbox="0 0 120 80"><rect x="10" y="10" width="100" height="60" fill="#3b82f6" fill-opacity="0.1" stroke="#3b82f6" stroke-width="1" stroke-dasharray="3,3"></rect> <polygon points="10,70 110,70 60,10" fill="#ef4444" fill-opacity="0.3" stroke="#ef4444" stroke-width="2"></polygon>
          </svg>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
    	// Configuration
    	const defaultConfig = {
    	    app_title: "å‘¨é•¿ä¸é¢ç§¯",
    	    page1_title: "å‘¨é•¿",
    	    page2_title: "æ­£æ–¹å½¢å’Œé•¿æ–¹å½¢",
    	    page3_title: "ä¸‰è§’å½¢çš„é¢ç§¯"
    	};
    
    	// Page navigation
    	let currentPage = 'perimeter';
    
    	function showPage(pageId) {
    	    document.querySelectorAll('.page-content').forEach(page => {
    	        page.classList.add('hidden');
    	    });
    	    
    	    document.getElementById(pageId + '-page').classList.remove('hidden');
    	    
    	    document.querySelectorAll('.nav-btn').forEach(btn => {
    	        btn.classList.remove('bg-blue-500', 'bg-yellow-500', 'bg-red-500', 'text-white');
    	        btn.classList.add('bg-gray-200', 'text-gray-700');
    	    });
    	    
    	    const colors = {
    	        'perimeter': 'bg-blue-500',
    	        'rectangle': 'bg-yellow-500',
    	        'triangle': 'bg-red-500'
    	    };
    	    
    	    const navBtn = document.getElementById('nav-' + pageId);
    	    navBtn.classList.remove('bg-gray-200', 'text-gray-700');
    	    navBtn.classList.add(colors[pageId], 'text-white');
    	    
    	    currentPage = pageId;
    	}
    
        // NEW FUNCTION: Dynamically styles the slider fill and thumb color
        function applySliderFill(sliderId, color) {
            const slider = document.getElementById(sliderId);
            // Only proceed if it is a range input element
            if (!slider || slider.type !== 'range') return; 
        
            const value = parseFloat(slider.value);
            const min = parseFloat(slider.min);
            const max = parseFloat(slider.max);
            const percent = ((value - min) / (max - min)) * 100;
            
            // Set the custom property for the thumb color
            slider.style.setProperty('--slider-color', color);
        
            // Use linear gradient on the input background to simulate the filled track
            // This creates the colored track up to the thumb, and the light gray track after it.
            slider.style.background = `linear-gradient(to right, ${color} 0%, ${color} ${percent}%, #e5e7eb ${percent}%, #e5e7eb 100%)`;
        }

    	// Page 1: Perimeter functions
    	function updatePolygonDisplay() {
    	    const sides = parseInt(document.getElementById('polygon-sides').value);
    	    const sideLength = parseFloat(document.getElementById('side-length').value);
    	    
            // Apply dynamic blue fill for Perimeter page
            const blueColor = '#3b82f6';
            applySliderFill('side-length', blueColor);

    	    document.getElementById('side-length-value').textContent = sideLength;
    	    document.getElementById('result-sides').textContent = sides;
    	    document.getElementById('result-length').textContent = sideLength;
    	    
    	    const perimeter = sides * sideLength;
    	    document.getElementById('result-perimeter').textContent = perimeter.toFixed(1);
    	    
    	    // æ ¹æ®è¾¹é•¿åŠ¨æ€è°ƒæ•´æ­£å¤šè¾¹å½¢çš„å¤§å°
    	    drawPolygon(sides, sideLength);
    	    
    	    const polygonNames = {
    	        3: 'æ­£ä¸‰è§’å½¢',
    	        4: 'æ­£æ–¹å½¢',
    	        5: 'æ­£äº”è¾¹å½¢',
    	        6: 'æ­£å…­è¾¹å½¢',
    	        7: 'æ­£ä¸ƒè¾¹å½¢',
    	        8: 'æ­£å…«è¾¹å½¢'
    	    };
    	    document.getElementById('polygon-label').textContent = polygonNames[sides];
    	}
    
    	function drawPolygon(sides, sideLength) {
    	    const centerX = 140;
    	    const centerY = 130;
    	    // è¾¹é•¿ 1ï½15 æ˜ å°„åˆ°åŠå¾„ 40ï½90ï¼Œä½¿å›¾å½¢å¤§å°éšè¾¹é•¿å˜åŒ–
    	    const minRadius = 40;
    	    const maxRadius = 90;
    	    const ratio = (sideLength - 1) / (15 - 1);
    	    const radius = minRadius + ratio * (maxRadius - minRadius);
    	    const points = [];
    	    
    	    for (let i = 0; i < sides; i++) {
    	        const angle = (i * 2 * Math.PI / sides) - Math.PI / 2;
    	        const x = centerX + radius * Math.cos(angle);
    	        const y = centerY + radius * Math.sin(angle);
    	        points.push(`${x},${y}`);
    	    }
    	    
    	    document.getElementById('display-polygon').setAttribute('points', points.join(' '));
    	}
    
    	// Page 2: Rectangle functions
    	function updateRectangle() {
    	    const length = parseFloat(document.getElementById('rect-length').value);
    	    const width = parseFloat(document.getElementById('rect-width').value);
    	    
            // Apply dynamic amber fill for Rectangle page
            const amberColor = '#f59e0b';
            applySliderFill('rect-length', amberColor);
            applySliderFill('rect-width', amberColor);

    	    document.getElementById('rect-length-display').textContent = length;
    	    document.getElementById('rect-width-display').textContent = width;
    	    document.getElementById('calc-length').textContent = length;
    	    document.getElementById('calc-width').textContent = width;
    	    
    	    const area = length * width;
    	    const perimeter = (length + width) * 2;
    	    
    	    document.getElementById('calc-area').textContent = area.toFixed(1);
    	    document.getElementById('calc-perimeter').textContent = perimeter.toFixed(1);
    	    
    	    updateRectangleVisual(length, width);
    	}
    
    	function updateRectangleVisual(length, width) {
    	    // å›¾å½¢å±•ç¤ºä¸å‚æ•°æ§åˆ¶ä¸¥æ ¼å¯¹åº”ï¼š
    	    // é•¿åº¦è¶Šå°ï¼Œå›¾å½¢æ°´å¹³æ–¹å‘è¶ŠçŸ­ï¼›å®½åº¦è¶Šå°ï¼Œå›¾å½¢å‚ç›´æ–¹å‘è¶ŠçŸ­ã€‚
    	    // ä½¿ç”¨åŒä¸€ä¸ªåŸºå‡† maxVisualSideï¼Œä¿è¯å½“ length === width æ—¶æ˜¯æ­£æ–¹å½¢ã€‚
    	    const maxVisualSide = 200; // ç”»å¸ƒä¸­æœ€é•¿è¾¹æ‰€å¯¹åº”çš„åƒç´ 
    
    	    const visualWidth = (length / 20) * maxVisualSide; // rect-length æ»‘æ†èŒƒå›´ï¼š3ï½20
    	    const visualHeight = (width / 20) * maxVisualSide; // rect-width æ»‘æ†èŒƒå›´ï¼š2ï½15ï¼Œä¹ŸæŒ‰ 20 ç¼©æ”¾ï¼Œä»¥ä¿æŒæ–¹å½¢ä¸€è‡´æ€§
    	    
    	    const x = 160 - visualWidth / 2;
    	    const y = 140 - visualHeight / 2;
    	    
    	    const rect = document.getElementById('visual-rect');
    	    rect.setAttribute('x', x);
    	    rect.setAttribute('y', y);
    	    rect.setAttribute('width', visualWidth);
    	    rect.setAttribute('height', visualHeight);
    
    	    // ä¸å†æ˜¾ç¤ºã€Œé•¿ã€ã€Œå®½ã€æ–‡æœ¬æ ‡ç­¾
    	}
    
    	// Page 3: Triangle functions
    	function updateTriangleFromSliders() {
    	    const base = parseFloat(document.getElementById('tri-base').value);
    	    const height = parseFloat(document.getElementById('tri-height').value);
    	    
            // Apply dynamic red fill for Triangle page
            const redColor = '#ef4444';
            applySliderFill('tri-base', redColor);
            applySliderFill('tri-height', redColor);

    	    document.getElementById('tri-base-display').textContent = base;
    	    document.getElementById('tri-height-display').textContent = height;
    	    document.getElementById('tri-calc-base').textContent = base;
    	    document.getElementById('tri-calc-height').textContent = height;
    	    
    	    const area = (base * height) / 2;
    	    document.getElementById('tri-calc-area').textContent = area.toFixed(1);
    	    document.getElementById('tri-calculation').textContent = `${base} Ã— ${height} Ã· 2 = ${area.toFixed(1)}`;
    	    
    	    // Calculate visual dimensions
    	    const pixelBase = (base / 25) * 300;
    	    const pixelHeight = (height / 20) * 200;
    	    
    	    const baseX = 50 + pixelBase;
    	    const heightY = 280 - pixelHeight;
    	    
    	    // Update triangle shape
    	    const triangle = document.getElementById('interactive-triangle');
    	    const points = `50,280 ${baseX},280 200,${heightY}`;
    	    triangle.setAttribute('points', points);
    	    
    	    // Update height line
    	    const heightLine = document.getElementById('height-line');
    	    heightLine.setAttribute('y1', heightY);
    	    
    	    // Update labels
    	    document.getElementById('base-text').textContent = `åº•: ${base} cm`;
    	    document.getElementById('height-text').textContent = `é«˜: ${height} cm`;
    	}
    
    	// Element SDK implementation
    	async function onConfigChange(config) {
    	    const appTitle = config.app_title || defaultConfig.app_title;
    	    const page1Title = config.page1_title || defaultConfig.page1_title;
    	    const page2Title = config.page2_title || defaultConfig.page2_title;
    	    const page3Title = config.page3_title || defaultConfig.page3_title;
    	    
    	    document.getElementById('main-title').textContent = appTitle;
    	    document.getElementById('nav-title-1').textContent = page1Title;
    	    document.getElementById('nav-title-2').textContent = page2Title;
    	    document.getElementById('nav-title-3').textContent = page3Title;
    	    document.getElementById('page1-heading').textContent = page1Title;
    	    document.getElementById('page2-heading').textContent = page2Title;
    	    document.getElementById('page3-heading').textContent = page3Title;
    	}
    
    	function mapToEditPanelValues(config) {
    	    return new Map([
    	        ["app_title", config.app_title || defaultConfig.app_title],
    	        ["page1_title", config.page1_title || defaultConfig.page1_title],
    	        ["page2_title", config.page2_title || defaultConfig.page2_title],
    	        ["page3_title", config.page3_title || defaultConfig.page3_title]
    	    ]);
    	}
    
    	function mapToCapabilities(config) {
    	    return {
    	        recolorables: [],
    	        borderables: [],
    	        fontEditable: undefined,
    	        fontSizeable: undefined
    	    };
    	}
    
    	// Initialize
    	document.addEventListener('DOMContentLoaded', function() {
    	    // Page 1 listeners
    	    document.getElementById('polygon-sides').addEventListener('change', updatePolygonDisplay);
    	    document.getElementById('side-length').addEventListener('input', updatePolygonDisplay);
    	    
    	    // Page 2 listeners
    	    document.getElementById('rect-length').addEventListener('input', updateRectangle);
    	    document.getElementById('rect-width').addEventListener('input', updateRectangle);
    	    
    	    // Page 3 listeners
    	    document.getElementById('tri-base').addEventListener('input', updateTriangleFromSliders);
    	    document.getElementById('tri-height').addEventListener('input', updateTriangleFromSliders);
    	    
    	    // Initialize displays
    	    updatePolygonDisplay();
    	    updateRectangle();
    	    updateTriangleFromSliders();
    	});
    
    	// Initialize Element SDK
    	if (window.elementSdk) {
    	    window.elementSdk.init({
    	        defaultConfig,
    	        onConfigChange,
    	        mapToCapabilities,
    	        mapToEditPanelValues
    	    });
    	}
    </script>
 </body>
</html>

